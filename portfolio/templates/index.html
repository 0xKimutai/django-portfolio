<!-- filepath: /home/k-kimutai/PROJECTS/portfolio/templates/index.html -->
{% load static %}
<!DOCTYPE html>
<html>
        <head>
            <link rel="stylesheet" href="{% static 'css/style.css' %}">
            <!-- Add more static files as needed -->
        </head>
    <body>
        <h1>My Portfolio</h1>
        <h2>Projects</h2>
        <ul>
            {% for project in projects %}
                <li>
                    <strong>{{ project.title }}</strong><br />
                    {{project.description}}<br />
                    {% if project.image %}
                        <img src="{{ project.image.url }}" alt="{{ project.title }}" width="200"><br />
                    {% endif %}
                    {% if project.link %}
                        <a href="{{ project.link }}" target="_blank">View Project</a>
                    {% endif %}
                </li>
            {% empty %}
                <li>No projects yet.</li>
            {% endfor %}
        </ul>

        <h2>Skills</h2>
        <ul>
            {% for skill in skills %}
                <li>{{ skill.name }} - {{ skill.proficiency }}%</li>
            {% empty %}
                <li>No skills added yet.</li>
            {% endfor %}
        </ul>

        <h2>Education</h2>
        <ul>
            {% for education in education %}
                <li>
                    <strong>{{ education.name }}</strong><br />
                    {{ education.description }}
                    {{ education.date }}
                </li>
            {% empty %}
                <li>No Education added yet.</li>
            {% endfor %}
        </ul>
        <div class="contact-section">
            <h2 >Contact me</h2>
            {% if messages %}
                {% for message in messages %}
                <p id="thankyou-message" style="color: green;">{{ message }}</p>
                <script>
                    setTimeout(function() {
                        var msg =document.getElementById('thankyou-message');
                        if (msg) { msg.style.display = 'none'; }

                    }, 3000); //3000ms = 3s
                </script>
                {% endfor %}
            {% endif %}
            <form method="POST">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Submit</button>
            </form>
        </div>
    </body>
</html>